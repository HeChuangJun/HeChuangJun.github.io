<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.32" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://javaguide.cn/backend/ormframework/mybatis.html"><meta property="og:site_name" content="JavaGuide"><meta property="og:title" content="Mybatis"><meta property="og:description" content="Mybatis 1. Mybatis介绍 2. Mybatis架构 3. Mybatis入门程序 4. Mapper动态代理开发持久层方法 5. SqlMapConfig.xml配置文件 6. Mapper.xml 7. Mybatis整合spring 8. Mybatis逆向工程（了解） 9. 分页插件PageHelper 1. Mybatis介绍 ..."><meta property="og:type" content="article"><meta property="og:image" content="https://290ff162.telegraph-image-eg9.pages.dev/file/1500ef07f438bf61f8679.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-12-07T01:56:33.000Z"><meta property="article:author" content="HeChuangJun"><meta property="article:published_time" content="2023-01-01T00:00:00.000Z"><meta property="article:modified_time" content="2024-12-07T01:56:33.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Mybatis","image":["https://290ff162.telegraph-image-eg9.pages.dev/file/1500ef07f438bf61f8679.png"],"datePublished":"2023-01-01T00:00:00.000Z","dateModified":"2024-12-07T01:56:33.000Z","author":[{"@type":"Person","name":"HeChuangJun","url":"https://javaguide.cn/article/"}]}</script><meta name="robots" content="all"><meta name="author" content="Guide"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="Java基础, 多线程, JVM, 虚拟机, 数据库, MySQL, Spring, Redis, MyBatis, 系统设计, 分布式, RPC, 高可用, 高并发"><meta name="description" content="「Java学习 + 面试指南」一份涵盖大部分 Java 程序员所需要掌握的核心知识。准备 Java 面试，首选 JavaGuide！"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();</script><link rel="alternate" type="application/atom+xml" href="https://javaguide.cn/atom.xml" title="JavaGuide Atom Feed"><link rel="alternate" type="application/json" href="https://javaguide.cn/feed.json" title="JavaGuide JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://javaguide.cn/rss.xml" title="JavaGuide RSS Feed"><link rel="icon" href="/favicon.ico"><title>Mybatis | JavaGuide</title>
    <link rel="preload" href="/assets/style-B7LVZfe6.css" as="style"><link rel="stylesheet" href="/assets/style-B7LVZfe6.css">
    <link rel="modulepreload" href="/assets/app-7KT7HDzT.js"><link rel="modulepreload" href="/assets/mybatis.html-CJg0EjTg.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">JavaGuide</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/interview/java/javabasics.html" aria-label="面试指南"><span class="font-icon icon iconfont icon-java" style=""></span>面试指南<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/backend/java/java.html" aria-label="后端"><span class="font-icon icon iconfont icon-java" style=""></span>后端<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/frontend/html.html" aria-label="前端"><span class="font-icon icon iconfont icon-book" style=""></span>前端<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/open-source-project/" aria-label="开源项目"><span class="font-icon icon iconfont icon-github" style=""></span>开源项目<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/books/" aria-label="技术书籍"><span class="font-icon icon iconfont icon-book" style=""></span>技术书籍<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/high-quality-technical-articles/" aria-label="程序人生"><span class="font-icon icon iconfont icon-article" style=""></span>程序人生<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="知识星球"><span class="title"><span class="font-icon icon iconfont icon-planet" style=""></span>知识星球</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/about-the-author/zhishixingqiu-two-years.html" aria-label="星球介绍"><span class="font-icon icon iconfont icon-about" style=""></span>星球介绍<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/zhuanlan/" aria-label="星球专属优质专栏"><span class="font-icon icon iconfont icon-about" style=""></span>星球专属优质专栏<!----></a></li><li class="dropdown-item"><a href="https://www.yuque.com/snailclimb/rpkqw1/ncxpnfmlng08wlf1" rel="noopener noreferrer" target="_blank" aria-label="星球优质主题汇总" class="nav-link"><span class="font-icon icon iconfont icon-star" style=""></span>星球优质主题汇总<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="网站相关"><span class="title"><span class="font-icon icon iconfont icon-about" style=""></span>网站相关</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/about-the-author/" aria-label="关于作者"><span class="font-icon icon iconfont icon-zuozhe" style=""></span>关于作者<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/timeline/" aria-label="更新历史"><span class="font-icon icon iconfont icon-history" style=""></span>更新历史<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/HeChuangJun/notes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><span class="vp-sidebar-title">API文档</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">API网关</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">服务调用</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-MQ" style=""></span><span class="vp-sidebar-title">消息队列</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">作业调度</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">注册中心</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">配置中心</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">链路追踪</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">服务保障</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">服务器</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">J2EE</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-component" style=""></span><span class="vp-sidebar-title">WEB框架</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-component" style=""></span><span class="vp-sidebar-title">安全框架</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon iconfont icon-component" style=""></span><span class="vp-sidebar-title">ORM框架</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/backend/ormframework/hibernate.html" aria-label="Hibernate"><!---->Hibernate<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/backend/ormframework/mybatis.html" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/backend/ormframework/springdatajpa.html" aria-label="Spring Data JPA"><!---->Spring Data JPA<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-database" style=""></span><span class="vp-sidebar-title">数据库</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-database" style=""></span><span class="vp-sidebar-title">数据库连接池</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-database" style=""></span><span class="vp-sidebar-title">数据库中间件</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-database" style=""></span><span class="vp-sidebar-title">分布式事务</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-search" style=""></span><span class="vp-sidebar-title">搜索引擎</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="vp-sidebar-title">工具类</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-computer" style=""></span><span class="vp-sidebar-title">自我修养</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-container" style=""></span><span class="vp-sidebar-title">容器化</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="vp-sidebar-title">开发工具</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">监控体系</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-design" style=""></span><span class="vp-sidebar-title">系统设计</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-distributed-network" style=""></span><span class="vp-sidebar-title">协议&amp;规范</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Mybatis</h1><div class="page-info"><span class="page-author-info" aria-label="作者"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://javaguide.cn/article/" target="_blank" rel="noopener noreferrer">HeChuangJun</a></span><span property="author" content="HeChuangJun"></span></span><!----><!----><!----><span class="page-word-info" aria-label="字数"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 4332 字</span><meta property="wordCount" content="4332"></span><span class="page-reading-time-info" aria-label="阅读时间"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 14 分钟</span><meta property="timeRequired" content="PT14M"></span></div><hr></div><!----><!--[--><!----><!--]--><div class="theme-hope-content"><p>Mybatis</p><ul><li><a href="#1-mybatis%E4%BB%8B%E7%BB%8D">1. Mybatis介绍</a></li><li><a href="#2-mybatis%E6%9E%B6%E6%9E%84">2. Mybatis架构</a></li><li><a href="#3-mybatis%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F">3. Mybatis入门程序</a></li><li><a href="#4-mapper%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%BC%80%E5%8F%91%E6%8C%81%E4%B9%85%E5%B1%82%E6%96%B9%E6%B3%95">4. Mapper动态代理开发持久层方法</a></li><li><a href="#5-sqlmapconfigxml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">5. SqlMapConfig.xml配置文件</a></li><li><a href="#6-mapperxml">6. Mapper.xml</a></li><li><a href="#7-mybatis%E6%95%B4%E5%90%88spring">7. Mybatis整合spring</a></li><li><a href="#8-mybatis%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E4%BA%86%E8%A7%A3">8. Mybatis逆向工程（了解）</a></li><li><a href="#9-%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6pagehelper">9. 分页插件PageHelper</a></li></ul><h1 id="_1-mybatis介绍" tabindex="-1"><a class="header-anchor" href="#_1-mybatis介绍"><span>1. Mybatis介绍</span></a></h1><ul><li>MyBatis是优秀的持久层框架，对jdbc的操作数据库的过程进行封装</li><li>使开发者只需要关注SQL本身，而不需要花费精力去处理例如注册驱动、创建connection、创建statement、手动设置参数、结果集检索等jdbc繁杂的过程代码</li><li>Mybatis通过xml或注解的方式将要执行的各种statement（statement、preparedStatemnt、CallableStatement）配置起来。并通过java对象和statement中的sql进行映射生成最终执行的sql语句，最后由mybatis框架执行sql并将结果映射成java对象并返回</li></ul><h1 id="_2-mybatis架构" tabindex="-1"><a class="header-anchor" href="#_2-mybatis架构"><span>2. Mybatis架构</span></a></h1><figure><img src="https://290ff162.telegraph-image-eg9.pages.dev/file/1500ef07f438bf61f8679.png" alt="mybatis.png" tabindex="0"><figcaption>mybatis.png</figcaption></figure><h1 id="_3-mybatis入门程序" tabindex="-1"><a class="header-anchor" href="#_3-mybatis入门程序"><span>3. Mybatis入门程序</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>导包
commons-logging-1.1.1.jar
javassist-3.17.1-GA.jar
log4j-1.2.17.jar
log4j-api-2.0-rc1.jar
log4j-core-2.0-rc1.jar
slf4j-api-1.7.5.jar
slf4j-log4j12-1.7.5.jar
asm-3.3.1.jar
cglib-2.2.2.jar

在src下创建log4j.properties
# Global logging configuration
log4j.rootLogger=DEBUG, stdout
# Console output...
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n
mybatis默认使用log4j作为输出日志信息。
	
在src下创建SqlMapConfig.xml
SqlMapConfig.xml是mybatis核心配置文件，内容为数据源、事务管理
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
	&lt;!DOCTYPE configuration
	PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
	&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
	&lt;configuration&gt;
		&lt;!-- 和spring整合后 environments配置将废除 --&gt;
		&lt;environments default=&quot;development&quot;&gt;
			&lt;environment id=&quot;development&quot;&gt;
			&lt;!-- 使用jdbc事务管理 --&gt;
			&lt;transactionManager type=&quot;JDBC&quot; /&gt;
				&lt;!-- 数据库连接池 --&gt;
				&lt;dataSource type=&quot;POOLED&quot;&gt;
					&lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;
					&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8&quot; /&gt;
					&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;
					&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;
				&lt;/dataSource&gt;
			&lt;/environment&gt;
		&lt;/environments&gt;
		&lt;!--加载配置文件--&gt;
		&lt;mappers&gt;
			&lt;mapper resource=&quot;sqlmap/User.xml&quot;/&gt;
		&lt;/mappers&gt;
	&lt;/configuration&gt;

创建pojo类生成set、get方法并创建对应的表

在src下的sqlmap目录下创建sql映射文件User.xml
mybatis框架需要加载Mapper.xml映射文件 将user.xml添加在SqlMapConfig.xml
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
	&lt;!DOCTYPE mapper
	PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
	&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
	&lt;!-- namespace：命名空间，用于隔离sql --&gt;
	&lt;mapper namespace=&quot;test&quot;&gt;
	&lt;!-- id:statement的id 或者叫做sql的id--&gt;
	&lt;!-- parameterType:声明输入参数的类型 --&gt;
	&lt;!-- resultType:声明输出结果的类型，应该填写pojo的全路径 --&gt;
	&lt;!-- #{}：输入参数的占位符，相当于jdbc的？ --&gt;
	&lt;!--实现根据id查询用户（传入基本值）--&gt;
	&lt;select id=&quot;queryUserById&quot; parameterType=&quot;int&quot; resultType=&quot;cn.mybatis.pojo.User&quot;&gt;
		SELECT * FROM `user` WHERE id  = #{id}
	&lt;/select&gt;
	&lt;!-- 如果返回多个结果，mybatis会自动把返回的结果放在list容器中 --&gt;
	&lt;!-- resultType的配置和返回一个结果的配置一样 --&gt;
	&lt;!-- ①方式一：实现根据用户名模糊查询用户 --&gt;
	&lt;select id=&quot;queryUserByUsername1&quot; parameterType=&quot;string&quot; resultType=&quot;cn.itcast.mybatis.pojo.User&quot;&gt;
		SELECT * FROM `user` WHERE username LIKE #{username}
	&lt;/select&gt;
	&lt;!-- ②方式二：实现根据用户名模糊查询用户--&gt;
	&lt;!-- 如果传入的参数是简单数据类型，${}里面必须写value --&gt;
	&lt;select id=&quot;queryUserByUsername2&quot; parameterType=&quot;string&quot; resultType=&quot;cn.itcast.mybatis.pojo.User&quot;&gt;
		SELECT * FROM `user` WHERE username LIKE &#39;%${value}%&#39;
	&lt;/select&gt;
	&lt;!-- 实现添加用户(传入对象) --&gt;
	&lt;insert id=&quot;saveUser&quot; parameterType=&quot;cn.itcast.mybatis.pojo.User&quot;&gt;
		INSERT INTO `user`
		(username,birthday,sex,address) VALUES
		(#{username},#{birthday},#{sex},#{address})
	&lt;/insert&gt;	
	&lt;!-- mysql自增主键返回--&gt;
	&lt;insert id=&quot;saveUser&quot; parameterType=&quot;cn.mybatis.pojo.User&quot;&gt;
	&lt;!-- selectKey 标签实现主键返回 --&gt;
	&lt;!-- keyColumn:主键对应的表中的哪一列 --&gt;
	&lt;!-- keyProperty：主键对应的pojo中的哪一个属性 --&gt;
	&lt;!-- order：设置在执行insert语句前执行查询id的sql，
	在执行insert语句之后执行查询id的sql --&gt;
	&lt;!-- resultType：设置返回的id的类型 --&gt;
	&lt;!-- LAST_INSERT_ID():是mysql的函数，返回auto_increment自增列新记录id值--&gt;
	&lt;selectKey keyColumn=&quot;id&quot; keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;int&quot;&gt;
		SELECT LAST_INSERT_ID()
	&lt;/selectKey&gt;
		INSERT INTO `user`
		(username,birthday,sex,address) VALUES
		(#{username},#{birthday},#{sex},#{address})
	&lt;/insert&gt;
	&lt;!--mysql uuid实现主键返回 注意这里使用的order是“BEFORE”--&gt;
	&lt;selectKey keyColumn=&quot;id&quot; keyProperty=&quot;id&quot; order=&quot;BEFORE&quot; resultType=&quot;string&quot;&gt;
		SELECT LAST_INSERT_ID()
	&lt;/selectKey&gt;
		INSERT INTO `user`
		(username,birthday,sex,address) VALUES
		(#{username},#{birthday},#{sex},#{address})
	&lt;/insert&gt;
	&lt;!--修改用户（传入对象）--&gt;
	&lt;update id=&quot;updateUserById&quot; parameterType=&quot;cn.mybatis.pojo.User&quot;&gt;
		UPDATE `user` SET username = #{username} WHERE id = #{id}
	&lt;/update&gt;		
	&lt;!-- 删除用户 --&gt;
	&lt;delete id=&quot;deleteUserById&quot; parameterType=&quot;int&quot;&gt;
		delete from user where id=#{id}
	&lt;/delete&gt;	
&lt;/mapper&gt;
		
测试程序：
1. 创建SqlSessionFactoryBuilder对象
2. 加载SqlMapConfig.xml配置文件
3. 创建SqlSessionFactory对象
4. 创建SqlSession对象
5. 执行SqlSession对象执行查询，获取结果User
6. 打印结果
7. 释放资源

public class MybatisTest {
	private SqlSessionFactory sqlSessionFactory = null;
	@Before
	public void init() throws Exception {
		SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
		InputStream inputStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;);
		this.sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream);
	}
	@Test
	public void testQueryUserById() throws Exception {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		Object user = sqlSession.selectOne(&quot;queryUserById&quot;, 1);
		sqlSession.close();
	}
	@Test
	public void testQueryUserByUsername1() throws Exception {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		List&lt;Object&gt; list =  sqlSession.selectList(&quot;queryUserByUsername1&quot;, &quot;%王%&quot;);
		for (Object user : list) {
			System.out.println(user);
		}
		sqlSession.close();
	}
	@Test
	public void testQueryUserByUsername2() throws Exception {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		List&lt;Object&gt; list = sqlSession.selectList(&quot;queryUserByUsername2&quot;, &quot;王&quot;);
		for (Object user : list) {
			System.out.println(user);
		}
		sqlSession.close();
	}	
	@Test
	public void testSaveUser() {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		User user = new User();
		user.setUsername(&quot;张飞&quot;);
		user.setSex(&quot;1&quot;);
		user.setBirthday(new Date());
		user.setAddress(&quot;蜀国&quot;);
		sqlSession.insert(&quot;saveUser&quot;, user);
		System.out.println(user);
		sqlSession.commit();
		sqlSession.close();
	}
	@Test
	public void testUpdateUserById() {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		User user = new User();
		user.setId(26);
		user.setUsername(&quot;关羽&quot;);
		user.setSex(&quot;1&quot;);
		user.setBirthday(new Date());
		user.setAddress(&quot;蜀国&quot;);
		sqlSession.update(&quot;updateUserById&quot;, user);
		sqlSession.commit();
		sqlSession.close();
	}
	@Test
	public void testDeleteUserById() {
		SqlSession sqlSession = sqlSessionFactory.openSession();
		sqlSession.delete(&quot;deleteUserById&quot;, 48);
		sqlSession.commit();
		sqlSession.close();
	}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_4-mapper动态代理开发持久层方法" tabindex="-1"><a class="header-anchor" href="#_4-mapper动态代理开发持久层方法"><span>4. Mapper动态代理开发持久层方法</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>	Mapper接口开发方法只需编写Mapper接口（Dao接口），由Mybatis框架根据接口定义创建接口的动态代理对象遵循以下规范：
	1、Mapper.xml文件中的namespace与mapper接口的完整类名相同。
	2、Mapper接口方法名和Mapper.xml中定义的每个statement的id相同 
	3、Mapper接口方法的输入参数类型和mapper.xml中定义的每个sql的parameterType的类型相同
	4、Mapper接口方法的输出参数类型和mapper.xml中定义的每个sql的resultType的类型相同

	Mapper.xml(映射文件)必须满足规范
	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
		&lt;!DOCTYPE mapper
		PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
		&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
		&lt;!-- namespace：命名空间，用于隔离sql 还有一个很重要的作用，使用动态代理开发DAO，
		1. namespace必须和Mapper接口类路径一致 --&gt;
		&lt;mapper namespace=&quot;cn.itcast.mybatis.mapper.UserMapper&quot;&gt;
			&lt;!-- 根据用户id查询用户 --&gt;
			&lt;!-- 2. id必须和Mapper接口方法名一致 --&gt;
			&lt;!-- 3. parameterType必须和接口方法参数类型一致 --&gt;
			&lt;!-- 4. resultType必须和接口方法返回值类型一致 --&gt;
			&lt;select id=&quot;queryUserById&quot; parameterType=&quot;int&quot; resultType=&quot;cn.itcast.mybatis.pojo.User&quot;&gt;
				select * from user where id = #{id}
			&lt;/select&gt;

			&lt;!-- 根据用户名查询用户 --&gt;
			&lt;select id=&quot;queryUserByUsername&quot; parameterType=&quot;string&quot; resultType=&quot;cn.itcast.mybatis.pojo.User&quot;&gt;
				select * from user where username like &#39;%${value}%&#39;
			&lt;/select&gt;
		&lt;/mapper&gt;
	UserMapper(接口文件)
	public interface UserMapper {
		User queryUserById(int id);
		List&lt;User&gt; queryUserByUsername(String username);
		}
	SqlMapConfig.xml文件(一样)
	测试
	public class UserMapperTest {
		private SqlSessionFactory sqlSessionFactory;
		@Before
		public void init() throws Exception {
			SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
			InputStream inputStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;);
			this.sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream);
		}
		@Test
		public void testQueryUserById() {
			SqlSession sqlSession = this.sqlSessionFactory.openSession();
			UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
			User user = userMapper.queryUserById(1);
			System.out.println(user);
			sqlSession.close();
		}

		@Test
		public void testQueryUserByUsername() {
			SqlSession sqlSession = this.sqlSessionFactory.openSession();
			UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
			List&lt;User&gt; list = userMapper.queryUserByUsername(&quot;张&quot;);
			for (User user : list) {
				System.out.println(user);
			}
			sqlSession.close();
			}
		}
	}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_5-sqlmapconfig-xml配置文件" tabindex="-1"><a class="header-anchor" href="#_5-sqlmapconfig-xml配置文件"><span>5. SqlMapConfig.xml配置文件</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>	SqlMapConfig.xml中配置的内容和顺序如下：
	properties（属性）
	settings（全局配置参数）
	typeAliases（类型别名）
	typeHandlers（类型处理器）
	objectFactory（对象工厂）
	plugins（插件）
	environments（环境集合属性对象）
	environment（环境子属性对象）
	transactionManager（事务管理）
	dataSource（数据源）
	mappers（映射器）
	
	properties（属性）
	SqlMapConfig.xml可以引用java属性文件中的配置信息如下：
	在src下定义db.properties文件
	jdbc.driver=com.mysql.jdbc.Driver
	jdbc.url=jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8
	jdbc.username=root
	jdbc.password=root

	MyBatis加载属性顺序：在properties元素中resource或 url 加载的属性，它会覆盖已读取的同名属性。 

	&lt;configuration&gt;
		&lt;!-- 是用resource属性加载外部配置文件 --&gt;
		&lt;properties resource=&quot;db.properties&quot;&gt;
			&lt;!-- 在properties内部用property定义属性 --&gt;
			&lt;!-- 如果外部配置文件有该属性，则内部定义属性被外部属性覆盖 --&gt;
			&lt;property name=&quot;jdbc.username&quot; value=&quot;root123&quot; /&gt;
			&lt;property name=&quot;jdbc.password&quot; value=&quot;root123&quot; /&gt;	
		&lt;/properties&gt;
		&lt;typeAliases&gt;
			&lt;!-- 单个别名定义 在mapper.xml配置文件中，就可以使用设置的别名user了，别名大小写不敏感--&gt;
			&lt;typeAlias alias=&quot;user&quot; type=&quot;cn.itcast.mybatis.pojo.User&quot; /&gt;
			&lt;!-- 批量别名定义，扫描整个包下的类，别名为类名（大小写不敏感） --&gt;
			&lt;package name=&quot;cn.itcast.mybatis.pojo&quot; /&gt;
			&lt;package name=&quot;其它包&quot; /&gt;
		&lt;/typeAliases&gt;
		&lt;!-- 和spring整合后 environments配置将废除 --&gt;
		&lt;environments default=&quot;development&quot;&gt;
			&lt;environment id=&quot;development&quot;&gt;
				&lt;!-- 使用jdbc事务管理 --&gt;
				&lt;transactionManager type=&quot;JDBC&quot; /&gt;
				&lt;!-- 数据库连接池 --&gt;
				&lt;dataSource type=&quot;POOLED&quot;&gt;
					&lt;property name=&quot;driver&quot; value=&quot;${jdbc.driver}&quot; /&gt;
					&lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;
					&lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;
					&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;
				&lt;/dataSource&gt;
			&lt;/environment&gt;
		&lt;/environments&gt;
		&lt;mappers&gt;
			&lt;!-- mappers（映射器）加载Mapper.xml配置文件 --&gt;
			&lt;!-- ①使用相对于类路径的资源（现在的使用方式）原始dao第一种有用--&gt;
			&lt;mapper resource=&quot;sqlmap/User.xml&quot; /&gt;
			&lt;!-- ②使用mapper接口类路径--&gt;
			&lt;!-- 要求mapper接口名称和mapper映射文件名称相同，且在同一个目录中 --&gt;
			&lt;!-- &lt;mapper class=&quot;cn.mybatis.mapper.UserMapper&quot;/&gt;--&gt;
			&lt;!--③注册指定包下的所有mapper接口--&gt;
			&lt;!--&lt;package name=&quot;cn.itcast.mybatis.mapper&quot;/&gt;--&gt;
			&lt;!--要求mapper接口名称和mapper映射文件名称相同，且放在同一个目录中。--&gt;
			&lt;!--整合spring后用代理方式开发的话，后两者没有用（默认）--&gt;			
		&lt;/mappers&gt;
	&lt;/configuration&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">mybatis支持别名</th><th style="text-align:center;">映射的类型</th><th style="text-align:center;">别名</th><th style="text-align:center;">映射的类型</th></tr></thead><tbody><tr><td style="text-align:center;">_byte</td><td style="text-align:center;">byte</td><td style="text-align:center;">byte</td><td style="text-align:center;">Byte</td></tr><tr><td style="text-align:center;">_long</td><td style="text-align:center;">long</td><td style="text-align:center;">long</td><td style="text-align:center;">Long</td></tr><tr><td style="text-align:center;">_short</td><td style="text-align:center;">short</td><td style="text-align:center;">short</td><td style="text-align:center;">Short</td></tr><tr><td style="text-align:center;">_int</td><td style="text-align:center;">int</td><td style="text-align:center;">int</td><td style="text-align:center;">Integer</td></tr><tr><td style="text-align:center;">_integer</td><td style="text-align:center;">int</td><td style="text-align:center;">integer</td><td style="text-align:center;">Integer</td></tr><tr><td style="text-align:center;">_double</td><td style="text-align:center;">double</td><td style="text-align:center;">double</td><td style="text-align:center;">Double</td></tr><tr><td style="text-align:center;">_float</td><td style="text-align:center;">float</td><td style="text-align:center;">float</td><td style="text-align:center;">Float</td></tr><tr><td style="text-align:center;">_boolean</td><td style="text-align:center;">boolean</td><td style="text-align:center;">boolean</td><td style="text-align:center;">Boolean</td></tr><tr><td style="text-align:center;">string</td><td style="text-align:center;">String</td><td style="text-align:center;">date</td><td style="text-align:center;">Date</td></tr><tr><td style="text-align:center;">decimal</td><td style="text-align:center;">BigDecimal</td><td style="text-align:center;">bigdecimal</td><td style="text-align:center;">BigDecimal</td></tr><tr><td style="text-align:center;">map</td><td style="text-align:center;">Map</td><td style="text-align:center;"></td><td style="text-align:center;"></td></tr></tbody></table><h1 id="_6-mapper-xml" tabindex="-1"><a class="header-anchor" href="#_6-mapper-xml"><span>6. Mapper.xml</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>If标签
&lt;!--注意字符串类型的数据需要要做不等于空字符串校验。--&gt;
&lt;select id=&quot;queryUserByWhere&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt;
	SELECT id, username, birthday, sex, address FROM `user`
	WHERE 1=1
	&lt;if test=&quot;sex != null and sex != &#39;&#39;&quot;&gt;
		AND sex = #{sex}
	&lt;/if&gt;
	&lt;if test=&quot;username != null and username != &#39;&#39;&quot;&gt;
		AND username LIKE
		&#39;%${username}%&#39;
	&lt;/if&gt;
&lt;/select&gt;

Where标签
上面的sql还有where 1=1 这样的语句，很麻烦，可以使用where标签进行改造,只能处理前面的and，不能处理后置and
	改造UserMapper.xml，如下
	&lt;select id=&quot;queryUserByWhere&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt;
		SELECT id, username, birthday, sex, address FROM `user`
		&lt;!-- where标签可以自动添加where，同时处理sql语句中第一个and关键字 --&gt;
		&lt;where&gt;
			&lt;if test=&quot;sex != null&quot;&gt;
				AND sex = #{sex}
			&lt;/if&gt;
			&lt;if test=&quot;username != null and username != &#39;&#39;&quot;&gt;
				AND username LIKE
				&#39;%${username}%&#39;
			&lt;/if&gt;
		&lt;/where&gt;
	&lt;/select&gt;

Sql片段
Sql中可将重复的sql提取出来，使用时用include引用即可，达到sql重用的目的
&lt;select id=&quot;queryUserByWhere&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt;
	&lt;!-- SELECT id, username, birthday, sex, address FROM `user` --&gt;
	&lt;!-- 使用include标签加载sql片段；refid是sql片段id --&gt;
	SELECT &lt;include refid=&quot;userFields&quot; /&gt; FROM `user`
&lt;/select&gt;

&lt;!-- 声明sql片段 如果要使用别的Mapper.xml配置的sql片段，可以在refid前面加上对应的Mapper.xml的namespace
refid=&quot;com.junye.userFields&quot;--&gt;
&lt;sql id=&quot;userFields&quot;&gt;
	id, username, birthday, sex, address
&lt;/sql&gt;

foreach标签
向sql传递数组或List，mybatis使用foreach解析
Integer[]→ collection=&quot;array&quot;、
List&lt;Integer&gt;→ collection=&quot;list&quot;
如果以上两个东西放进类中被包装了，那么用属性名表示
&lt;select id=&quot;queryUserByIds&quot; parameterType=&quot;queryVo&quot; resultType=&quot;user&quot;&gt;
	SELECT * FROM `user`
	&lt;where&gt;
		&lt;!-- foreach标签，进行遍历 --&gt;
		&lt;!-- collection：遍历的集合，这里是QueryVo的ids属性 --&gt;
		&lt;!-- item：遍历的项目，可以随便写，，但是和后面的#{}里面要一致 --&gt;
		&lt;!-- open：在前面添加的sql片段 --&gt;
		&lt;!-- close：在结尾处添加的sql片段 --&gt;
		&lt;!-- separator：指定遍历的元素之间使用的分隔符 --&gt;
		&lt;foreach collection=&quot;ids&quot; item=&quot;item&quot; open=&quot;id IN (&quot; close=&quot;)&quot; separator=&quot;,&quot;&gt;
			#{item}
		&lt;/foreach&gt;
	&lt;/where&gt;
&lt;/select&gt;

一对多查询
在UserMapper.xml添加sql，如下：
resultMap，数据库字段与对象字段不一致时使用
&lt;resultMap type=&quot;user&quot; id=&quot;userOrderResultMap&quot;&gt;
	&lt;id property=&quot;id&quot; column=&quot;id&quot; /&gt;
	&lt;result property=&quot;username&quot; column=&quot;username&quot; /&gt;
	&lt;result property=&quot;birthday&quot; column=&quot;birthday&quot; /&gt;
	&lt;result property=&quot;sex&quot; column=&quot;sex&quot; /&gt;
	&lt;result property=&quot;address&quot; column=&quot;address&quot; /&gt;

	&lt;!-- 配置一对多的关系 --&gt;
	&lt;collection property=&quot;orders&quot; javaType=&quot;list&quot; ofType=&quot;order&quot;&gt;
		&lt;!-- 配置主键，是关联Order的唯一标识 --&gt;
		&lt;id property=&quot;id&quot; column=&quot;oid&quot; /&gt;
		&lt;result property=&quot;number&quot; column=&quot;number&quot; /&gt;
		&lt;result property=&quot;createtime&quot; column=&quot;createtime&quot; /&gt;
		&lt;result property=&quot;note&quot; column=&quot;note&quot; /&gt;
	&lt;/collection&gt;
&lt;/resultMap&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_7-mybatis整合spring" tabindex="-1"><a class="header-anchor" href="#_7-mybatis整合spring"><span>7. Mybatis整合spring</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>整合思路
SqlSessionFactory对象应该放到spring容器中作为单例存在
Mapper代理形式中，应该从spring容器中直接获得mapper的代理对象
数据库的连接以及数据库连接池事务管理都交给spring容器来完成。

mybatis整合原理
SqlSessionFactoryBean implements FactoryBean&lt;SqlSessionFactory&gt;重写getobject方法返回SqlSessionFactory注入到spring中，
而SqlSessionFactoryBean将由开发人员在spring中声明，完美整合

整合需要的jar包
spring-core-4.1.3.RELEASE.jar
spring-expression-4.1.3.RELEASE.jar
spring-jdbc-4.1.3.RELEASE.jar
spring-jms-4.1.3.RELEASE.jar
spring-messaging-4.1.3.RELEASE.jar
spring-tx-4.1.3.RELEASE.jar
spring-web-4.1.3.RELEASE.jar
spring-webmvc-4.1.3.RELEASE.jar
aopalliance-1.0.jar
asm-3.3.1.jar
aspectjweaver-1.6.11.jar
cglib-2.2.2.jar
commons-dbcp-1.2.2.jar
commons-logging-1.1.1.jar
commons-pool-1.3.jar
javassist-3.17.1-GA.jar
jstl-1.2.jar
junit-4.9.jar
log4j-1.2.17.jar
log4j-api-2.0-rc1.jar
log4j-core-2.0-rc1.jar
mybatis-3.2.7.jar
mybatis-spring-1.2.2.jar
mysql-connector-java-5.1.7-bin.jar
slf4j-api-1.7.5.jar
slf4j-log4j12-1.7.5.jar
spring-aop-4.1.3.RELEASE.jar
spring-aspects-4.1.3.RELEASE.jar
spring-beans-4.1.3.RELEASE.jar
spring-context-4.1.3.RELEASE.jar
spring-context-support-4.1.3.RELEASE.jar


创建工程
sqlmapConfig.xml
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
	&lt;!DOCTYPE configuration
	PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
	&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
	&lt;!-- 设置别名 --&gt;
	&lt;typeAliases&gt;
		&lt;!-- 2. 指定扫描包，会把包内所有的类都设置别名，别名的名称就是类名，大小写不敏感 --&gt;
		&lt;package name=&quot;cn.itcast.mybatis.pojo&quot; /&gt;
	&lt;/typeAliases&gt;
&lt;/configuration&gt;

applicationContext.xml
	SqlSessionFactoryBean属于mybatis-spring这个jar包
	对于spring来说，mybatis是另外一个架构，需要整合jar包。
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
	&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
	xmlns:context=&quot;http://www.springframework.org/schema/context&quot; 
	xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; 
	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans 
	http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
	http://www.springframework.org/schema/context 
	http://www.springframework.org/schema/context/spring-context-4.0.xsd
	http://www.springframework.org/schema/aop 
	http://www.springframework.org/schema/aop/spring-aop-4.0.xsd 
	http://www.springframework.org/schema/tx 
	http://www.springframework.org/schema/tx/spring-tx-4.0.xsd
	http://www.springframework.org/schema/util 
	http://www.springframework.org/schema/util/spring-util-4.0.xsd&quot;&gt;
	&lt;context:property-placeholder location=&quot;classpath:db.properties&quot; /&gt;
	&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;
		&lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driver}&quot; /&gt;
		&lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;
		&lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;
		&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;
		&lt;property name=&quot;maxActive&quot; value=&quot;10&quot; /&gt;
		&lt;property name=&quot;maxIdle&quot; value=&quot;5&quot; /&gt;
	&lt;/bean&gt;
	&lt;!-- 配置SqlSessionFactory --&gt;
	&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
		&lt;!-- 配置mybatis核心配置文件 --&gt;
		&lt;property name=&quot;configLocation&quot; value=&quot;classpath:SqlMapConfig.xml&quot; /&gt;
		&lt;!-- 配置数据源 --&gt;
		&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;
	&lt;/bean&gt;
&lt;/beans&gt;
db.properties、log4j.properties

Dao开发(使用Mapper代理开发方式)
编写UserMapper.xml配置文件，如下：
	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
	&lt;!DOCTYPE mapper
	PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
	&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
	&lt;mapper namespace=&quot;cn.itcast.mybatis.mapper.UserMapper&quot;&gt;
		&lt;!-- 根据用户id查询 --&gt;
		&lt;select id=&quot;queryUserById&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt;
			select * from user where id = #{id}
		&lt;/select&gt;
	&lt;/mapper&gt;

UserMapper接口实现类
public interface UserMapper {
	User queryUserById(int id);
}
扫描包形式配置mapper（注意这个自动寻找sqlsession，所以不用注入sqlsession，自动扫描该包下，
不包括子包的所有接口，默认加载该包下的与接口同名的xml文件作为Mapper，也可以在sqlMapper中配置mapper resource以加载其他的Mapper
没找到mapper.xml就报错，可以在sqlMapperConfig.xml配置mapper resource解决当默认和自己配的文件一样的时候，优先加载默认位置的
每个mapper代理对象的id就是类名，首字母小写
&lt;!-- 扫描包方式配置代理 --&gt;
&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
	&lt;!-- 配置Mapper接口 --&gt;
	&lt;property name=&quot;basePackage&quot; value=&quot;cn.mybatis.mapper&quot; /&gt;
&lt;/bean&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_8-mybatis逆向工程-了解" tabindex="-1"><a class="header-anchor" href="#_8-mybatis逆向工程-了解"><span>8. Mybatis逆向工程（了解）</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>	生成逆向工程代码
	找到下图所示的java文件，执行工程main主函数,
	刷新工程，发现代码生成

	注意
	1.逆向工程生成的代码只能做单表查询
	2.不能在生成的代码上进行扩展，因为如果数据库变更，
	需要重新使用逆向工程生成代码，原来编写的代码就被覆盖了。
	3.一张表会生成4个文件

	使用官方网站的Mapper自动生成工具mybatis-generator-core-1.3.2
	来生成po类和Mapper映射文件
	导入逆向工程
	修改配置文件
	在generatorConfig.xml中配置Mapper生成的详细信息，
	1.修改要生成的数据库表
	2.pojo文件所在包路径
	3.Mapper所在的包路径
	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
	&lt;!DOCTYPE generatorConfiguration
	PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;
	&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;

	&lt;generatorConfiguration&gt;
		&lt;context id=&quot;testTables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;
		&lt;commentGenerator&gt;
			&lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;
			&lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot; /&gt;
		&lt;/commentGenerator&gt;
			&lt;!--数据库连接的信息：驱动类、连接地址、用户名、密码 --&gt;
			&lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot; 
				userId=&quot;root&quot; password=&quot;root&quot;&gt;
			&lt;/jdbcConnection&gt;
			&lt;!-- &lt;jdbcConnection driverClass=&quot;oracle.jdbc.OracleDriver&quot; connectionURL=&quot;jdbc:oracle:thin:@127.0.0.1:1521:yycg&quot; 
				userId=&quot;yycg&quot; password=&quot;yycg&quot;&gt; &lt;/jdbcConnection&gt; --&gt;
			&lt;!-- 默认false，把JDBC DECIMAL 和 NUMERIC 类型解析为 Integer，为 true时把JDBC DECIMAL 和 NUMERIC 类型解析为java.math.BigDecimal --&gt;
			&lt;javaTypeResolver&gt;
				&lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt;
			&lt;/javaTypeResolver&gt;

		&lt;!-- targetProject:生成PO类的位置 --&gt;
		&lt;javaModelGenerator targetPackage=&quot;cn.itcast.ssm.po&quot; targetProject=&quot;.\src&quot;&gt;
			&lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt;
			&lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;
			&lt;!-- 从数据库返回的值被清理前后的空格 --&gt;
			&lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;
		&lt;/javaModelGenerator&gt;

		&lt;!-- targetProject:mapper映射文件生成的位置 --&gt;
		&lt;sqlMapGenerator targetPackage=&quot;cn.itcast.ssm.mapper&quot; targetProject=&quot;.\src&quot;&gt;
			&lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt;
			&lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;
		&lt;/sqlMapGenerator&gt;
		&lt;!-- targetPackage：mapper接口生成的位置 --&gt;
		&lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;cn.itcast.ssm.mapper&quot; targetProject=&quot;.\src&quot;&gt;
			&lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt;
		&lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;
			&lt;/javaClientGenerator&gt;
			&lt;!-- 指定数据库表 --&gt;
			&lt;table schema=&quot;&quot; tableName=&quot;user&quot;&gt;&lt;/table&gt;
			&lt;table schema=&quot;&quot; tableName=&quot;order&quot;&gt;&lt;/table&gt;
		&lt;/context&gt;
	&lt;/generatorConfiguration&gt;
	

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_9-分页插件pagehelper" tabindex="-1"><a class="header-anchor" href="#_9-分页插件pagehelper"><span>9. 分页插件PageHelper</span></a></h1><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>目前支持Oracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQL六种数据库分页。

把PageHelper依赖的jar包添加到工程中。官方提供的代码对逆向工程支持的不好，使用参考资料中的pagehelper-fix。

第二步：在Mybatis配置xml中配置拦截器插件:
&lt;plugins&gt;
    &lt;!-- com.github.pagehelper为PageHelper类所在包名 --&gt;
    &lt;plugin interceptor=&quot;com.github.pagehelper.PageHelper&quot;&gt;
        &lt;!-- 设置数据库类型 Oracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQL六种数据库--&gt;        
        &lt;property name=&quot;dialect&quot; value=&quot;mysql&quot;/&gt;
    &lt;/plugin&gt;
&lt;/plugins&gt;

第三步：在代码中使用
1、设置分页信息：
//获取第1页，10条内容，默认查询总数count
PageHelper.startPage(1, 10);

//紧跟着的第一个select方法会被分页
List&lt;Country&gt; list = countryMapper.selectIf(1);

2、取分页信息
//分页后，实际返回的结果list类型是Page&lt;E&gt;，如果想取出分页信息，需要强制转换为Page&lt;E&gt;，
Page&lt;Country&gt; listCountry = (Page&lt;Country&gt;)list;
listCountry.getTotal();

3、取分页信息的第二种方法
//获取第1页，10条内容，默认查询总数count
PageHelper.startPage(1, 10);
List&lt;Country&gt; list = countryMapper.selectAll();
//用PageInfo对结果进行包装
PageInfo page = new PageInfo(list);
//测试PageInfo全部属性
//PageInfo包含了非常全面的分页属性
assertEquals(1, page.getPageNum());
assertEquals(10, page.getPageSize());
assertEquals(1, page.getStartRow());
assertEquals(10, page.getEndRow());
assertEquals(183, page.getTotal());
assertEquals(19, page.getPages());
assertEquals(1, page.getFirstPage());
assertEquals(8, page.getLastPage());
assertEquals(true, page.isFirstPage());
assertEquals(false, page.isLastPage());
assertEquals(false, page.isHasPreviousPage());
assertEquals(true, page.isHasNextPage());

@Test
public void testPageHelper() throws Exception {
	//初始化spring容器
	ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:spring/applicationContext-*.xml&quot;);
	//获得Mapper的代理对象
	TbItemMapper itemMapper = applicationContext.getBean(TbItemMapper.class);
	//设置分页信息
	PageHelper.startPage(1, 30);
	//执行查询
	TbItemExample example = new TbItemExample();
	List&lt;TbItem&gt; list = itemMapper.selectByExample(example);
	//取分页信息
	PageInfo&lt;TbItem&gt; pageInfo = new PageInfo&lt;&gt;(list);
	System.out.println(pageInfo.getTotal());
	System.out.println(pageInfo.getPages());
	System.out.println(pageInfo.getPageNum());
	System.out.println(pageInfo.getPageSize());
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/HeChuangJun/notes/edit/main/docs/backend/ormframework/mybatis.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 1105128664@qq.com">HeChuangJun</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/backend/ormframework/hibernate.html" aria-label="Hibernate"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Hibernate</div></a><a class="route-link nav-link next" href="/backend/ormframework/springdatajpa.html" aria-label="Spring Data JPA"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Spring Data JPA<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">鄂ICP备2020015769号-1</a></div><div class="vp-copyright">Copyright © 2025 HeChuangJun </div></footer></div><!--]--><!--]--><!--[--><!--[--><!--]--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-7KT7HDzT.js" defer></script>
  </body>
</html>
